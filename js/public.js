function pys_generate_token(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),n=[],o=0;o<e;o++){var a=(Math.random()*(t.length-1)).toFixed(0);n[o]=t[a]}return n.join("")}function getBundlePriceOnSingleProduct(e){var t=0;return jQuery(".bundle_form .bundled_product").each((function(n){var o=jQuery(this).find(".cart").data("bundled_item_id"),a=e.prices[o],i=jQuery(this).find(".bundled_qty").val();jQuery(this).hasClass("bundled_item_optional")&&!jQuery(this).find(".bundled_product_optional_checkbox input").prop("checked")||(t+=a*i)})),t}function getPixelBySlag(e){switch(e){case"facebook":return window.pys.Facebook;case"ga":return window.pys.Analytics;case"bing":return window.pys.Bing;case"pinterest":return window.pys.Pinterest}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var a,i,r=0|t,s=Math.max(r>=0?r:o-Math.abs(r),0);for(;s<o;){if((a=n[s])===(i=e)||"number"==typeof a&&"number"==typeof i&&isNaN(a)&&isNaN(i))return!0;s++}return!1}}),function(e,t){t.debug&&console.log("PYS:",t);var n={isEnabled:function(){},disable:function(){},loadPixel:function(){},fireEvent:function(e,t){return!1},onCommentEvent:function(){},onDownloadEvent:function(e){},onFormEvent:function(e){},onWooAddToCartOnButtonEvent:function(e){},onWooAddToCartOnSingleEvent:function(e,t,n,o,a){},onWooRemoveFromCartEvent:function(e){},onEddAddToCartOnButtonEvent:function(e,t,n){},onEddRemoveFromCartEvent:function(e){},onPageScroll:function(e){},onTime:function(e){}},o={isEnabled:function(){},disable:function(){},loadPixel:function(){},fireEvent:function(e,t){return!1},onAdSenseEvent:function(){},onClickEvent:function(e){},onWatchVideo:function(e){},onCommentEvent:function(){},onFormEvent:function(e){},onDownloadEvent:function(e){},onWooAddToCartOnButtonEvent:function(e){},onWooAddToCartOnSingleEvent:function(e,t,n,o,a){},onWooRemoveFromCartEvent:function(e){},onWooAffiliateEvent:function(e){},onWooPayPalEvent:function(){},onEddAddToCartOnButtonEvent:function(e,t,n){},onEddRemoveFromCartEvent:function(e){},onPageScroll:function(e){},onTime:function(e){}},a=function(t){var s=n,c=o,d=!1;let l=function(){let e=6e4*t.last_visit_duration;if(void 0===Cookies.get("pys_start_session")||void 0===Cookies.get("pys_session_limit")){var n=new Date;return n.setTime(n.getTime()+e),Cookies.set("pys_session_limit",!0,{expires:n}),Cookies.set("pys_start_session",!0),!0}return!1}(),_=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],u=["fbadid","gadid","padid","bingid"];function p(){t.gdpr.all_disabled_by_api||(t.gdpr.facebook_disabled_by_api||i.loadPixel(),t.gdpr.analytics_disabled_by_api||r.loadPixel(),t.gdpr.pinterest_disabled_by_api||s.loadPixel(),t.gdpr.bing_disabled_by_api||c.loadPixel()),t.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data&&void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode&&r.loadPixel()}function f(){try{let n,o=document.referrer.toString(),a=0===o.length,i=!a&&0===o.indexOf(t.siteUrl);return n=!1===(!a&&!i)?"direct":o,"direct"!==n?-1!==(e=(e=n).replace(/(https?:\/\/)?(www.)?/i,"")).indexOf("/")?e.split("/")[0]:e:n}catch(e){return console.error(e),"direct"}var e}function m(t=!1){try{let n="pys_",o=[];return t&&(n="last_pys_"),e.each(u,(function(e,t){Cookies.get(n+t)&&(o[t]=Cookies.get(n+t))})),o}catch(e){return console.error(e),[]}}function v(t=!1){try{let n="pys_";t&&(n="last_pys_");let o=[];return e.each(_,(function(e,t){if(Cookies.get(n+t)){let e=Cookies.get(n+t);o[t]=function(e){return t=e,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?void 0:e;var t}(e)}})),o}catch(e){return console.error(e),[]}}return{PRODUCT_SIMPLE:0,PRODUCT_VARIABLE:1,PRODUCT_BUNDLE:2,PRODUCT_GROUPED:3,fireEventForAllPixel:function(e,t){t.hasOwnProperty(i.tag())&&i[e](t[i.tag()]),t.hasOwnProperty(r.tag())&&r[e](t[r.tag()]),t.hasOwnProperty(s.tag())&&s[e](t[s.tag()]),t.hasOwnProperty(c.tag())&&c[e](t[c.tag()])},setupPinterestObject:function(){return s=window.pys.Pinterest||s},setupBingObject:function(){return c=window.pys.Bing||c},copyProperties:function(e,t){for(var n in e)"function"!=typeof e[n]&&(t[n]=e[n]);return t},manageCookies:function(){let n=parseInt(t.cookie_duration),o=function(){try{var e={},t=[];return window.location.search.substr(1).split("&").forEach((function(n){(t=n.split("=")).length>1&&(e[t[0]]=t[1])})),e}catch(e){return console.error(e),{}}}(),a=window.location.href.split("?")[0];try{void 0===Cookies.get("pys_first_visit")&&(Cookies.set("pys_first_visit",!0,{expires:n}),Cookies.set("pysTrafficSource",f(),{expires:n}),Cookies.set("pys_landing_page",a,{expires:n}),e.each(_,(function(e,t){o.hasOwnProperty(t)?Cookies.set("pys_"+t,o[t],{expires:n}):Cookies.remove("pys_"+t)})),e.each(u,(function(e,t){o.hasOwnProperty(t)?Cookies.set("pys_"+t,o[t],{expires:n}):Cookies.remove("pys_"+t)}))),l&&(Cookies.set("last_pysTrafficSource",f(),{expires:n}),e.each(_,(function(e,t){o.hasOwnProperty(t)?Cookies.set("last_pys_"+t,o[t],{expires:n}):Cookies.remove("last_pys_"+t)})),e.each(u,(function(e,t){o.hasOwnProperty(t)?Cookies.set("last_pys_"+t,o[t],{expires:n}):Cookies.remove("last_pys_"+t)})),Cookies.set("last_pys_landing_page",a,{expires:n}))}catch(e){console.error(e)}},clone:function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,o=e.length;n<o;n++)"function"!=typeof e[n]&&(t[n]=a.clone(e[n]));return t}if(e instanceof Object){for(var i in t={},e)if(e.hasOwnProperty(i)){if("function"==typeof e[i])continue;t[i]=a.clone(e[i])}return t}return e},getTagsAsArray:function(e){return[].slice.call(document.getElementsByTagName(e))},getRequestParams:function(){return[]},setupMouseOverClickEvents:function(t,n){e(document).onFirst("mouseover",n.join(","),(function(){if(e(this).hasClass("pys-mouse-over-"+t))return!0;e(this).addClass("pys-mouse-over-"+t),a.fireDynamicEvent(t)}))},setupCSSClickEvents:function(t,n){e(document).onFirst("click",n.join(","),(function(){a.fireTriggerEvent(t)}))},setupURLClickEvents:function(){e("a[data-pys-event-id]").onFirst("click",(function(t){e(this).attr("data-pys-event-id").split(",").forEach((function(e){e=parseInt(e),!1===isNaN(e)&&a.fireTriggerEvent(e)}))}))},setupScrollPosEvents:function(t,n){var o={},i=e(document).height()-e(window).height();e.each(n,(function(e,n){n=i*n/100,n=Math.round(n),o[n]=t})),e(document).on("scroll",(function(){var t=e(window).scrollTop();e.each(o,(function(e,n){return t<=e||(null===n||(o[e]=null,void a.fireTriggerEvent(n)))}))}))},setupCommentEvents:function(t,n){e("form.comment-form").on("submit",(function(){a.fireTriggerEvent(t)}))},fireTriggerEvent:function(e){if(t.triggerEvents.hasOwnProperty(e)){var n={},o=t.triggerEvents[e];o.hasOwnProperty("facebook")&&(n=o.facebook,i.fireEvent(n.name,n)),o.hasOwnProperty("ga")&&(n=o.ga,r.fireEvent(n.name,n)),o.hasOwnProperty("pinterest")&&(n=o.pinterest,s.fireEvent(n.name,n)),o.hasOwnProperty("bing")&&(n=o.bing,c.fireEvent(n.name,n))}},fireStaticEvents:function(n){t.staticEvents.hasOwnProperty(n)&&e.each(t.staticEvents[n],(function(t,o){e.each(o,(function(e,t){if(t.fired=t.fired||!1,!t.fired){var o=!1;"facebook"===n?o=i.fireEvent(t.name,t):"ga"===n?o=r.fireEvent(t.name,t):"pinterest"===n?o=s.fireEvent(t.name,t):"bing"===n&&(o=c.fireEvent(t.name,t)),t.fired=o}}))}))},loadGoogleTag:function(e){d||(!function(e,t,n){var o=t.createElement("script"),a=t.getElementsByTagName("script")[0];o.async=1,o.src=n,a.parentNode.insertBefore(o,a)}(window,document,"//www.googletagmanager.com/gtag/js?id="+e),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},gtag("js",new Date),d=!0)},loadPixels:function(){t.gdpr.ajax_enabled&&!t.gdpr.consent_magic_integration_enabled?e.get({url:t.ajaxUrl,dataType:"json",data:{action:"pys_get_gdpr_filters_values"},success:function(e){e.success&&(t.gdpr.all_disabled_by_api=e.data.all_disabled_by_api,t.gdpr.facebook_disabled_by_api=e.data.facebook_disabled_by_api,t.gdpr.analytics_disabled_by_api=e.data.analytics_disabled_by_api,t.gdpr.google_ads_disabled_by_api=e.data.google_ads_disabled_by_api,t.gdpr.pinterest_disabled_by_api=e.data.pinterest_disabled_by_api,t.gdpr.bing_disabled_by_api=e.data.bing_disabled_by_api),p()}}):p()},consentGiven:function(e){if(t.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data){var n=Cookies.get("cs_viewed_cookie_policy"+test_prefix);if(t.gdpr[e+"_prior_consent_enabled"]){if(void 0===n||"yes"===n)return!0}else if(void 0===n||"yes"===n)return!0;if(t.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data){if(void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode&&"analytics"==e)return!0;if(void 0!==CS_Data.cs_google_ads_consent_mode&&1==CS_Data.cs_google_ads_consent_mode&&"google_ads"==e)return!0}return!1}if(t.gdpr.real_cookie_banner_integration_enabled){var o=window.consentApi;if(o)switch(e){case"analytics":return o.consentSync("http","_ga","*").cookieOptIn;case"facebook":return o.consentSync("http","_fbp","*").cookieOptIn;case"pinterest":return o.consentSync("http","_pinterest_sess",".pinterest.com").cookieOptIn;default:return!0}}if(t.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot){var a=t.gdpr["cookiebot_"+e+"_consent_category"];if(t.gdpr[e+"_prior_consent_enabled"]){if(!1===Cookiebot.consented||Cookiebot.consent[a])return!0}else if(Cookiebot.consent[a])return!0;return!1}if(t.gdpr.cookie_notice_integration_enabled&&"undefined"!=typeof cnArgs){var i=Cookies.get(cnArgs.cookieName);if(t.gdpr[e+"_prior_consent_enabled"]){if(void 0===i||"true"===i)return!0}else if("true"===i)return!0;return!1}if(t.gdpr.cookie_law_info_integration_enabled){var r=Cookies.get("viewed_cookie_policy");if(t.gdpr[e+"_prior_consent_enabled"]){if(void 0===r||"yes"===r)return!0}else if("yes"===r)return!0;return!1}return!0},setupGdprCallbacks:function(){if(t.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data){var n=CS_Data.test_prefix,o=!1;if(1==CS_Data.cs_refresh_after_consent&&(o=CS_Data.cs_refresh_after_consent),!o){for(var a=document.cookie.split(";"),d=1;d<=a.length;d++)if(-1!==a[d-1].indexOf("cs_enabled_cookie_term")){var l=a[d-1].replace("cs_enabled_cookie_term"+n+"_","");l=Number(l.replace(/\D+/g,"")),"yes"==Cookies.get("cs_enabled_cookie_term"+n+"_"+l)?(l===CS_Data.cs_script_cat.facebook&&i.loadPixel(),l===CS_Data.cs_script_cat.bing&&c.loadPixel(),(l===CS_Data.cs_script_cat.analytics||void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode)&&r.loadPixel(),l===CS_Data.cs_script_cat.pinterest&&s.loadPixel()):(l===CS_Data.cs_script_cat.facebook&&i.disable(),l===CS_Data.cs_script_cat.bing&&c.disable(),l!==CS_Data.cs_script_cat.analytics||void 0!==CS_Data.cs_google_analytics_consent_mode&&0!=CS_Data.cs_google_analytics_consent_mode||r.disable(),l===CS_Data.cs_script_cat.pinterest&&s.disable()),"yes"==Cookies.get("cs_enabled_advanced_matching")&&i.loadPixel()}e(document).on("click",".cs_action_btn",(function(t){t.preventDefault();var n=e(this).attr("data-cs_action");"allow_all"===n?(i.loadPixel(),c.loadPixel(),r.loadPixel(),s.loadPixel()):"disable_all"===n&&(i.disable(),c.disable(),0!=CS_Data.cs_google_analytics_consent_mode&&void 0!==CS_Data.cs_google_analytics_consent_mode||r.disable(),s.disable())}))}}if(t.gdpr.real_cookie_banner_integration_enabled){var _=window.consentApi;_&&(_.consent("http","_ga","*").then(r.loadPixel.bind(r),r.disable.bind(r)),_.consent("http","_fbp","*").then(i.loadPixel.bind(i),i.disable.bind(i)),_.consent("http","_pinterest_sess",".pinterest.com").then(s.loadPixel.bind(s),s.disable.bind(s)))}t.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot&&window.addEventListener("CookiebotOnConsentReady",(function(){Cookiebot.consent.marketing&&(i.loadPixel(),c.loadPixel(),s.loadPixel()),Cookiebot.consent.statistics&&r.loadPixel(),Cookiebot.consent.marketing||(i.disable(),s.disable(),c.disable()),Cookiebot.consent.statistics||r.disable()})),t.gdpr.cookie_notice_integration_enabled&&(e(document).onFirst("click",".cn-set-cookie",(function(){"accept"===e(this).data("cookie-set")?(i.loadPixel(),r.loadPixel(),s.loadPixel(),c.loadPixel()):(i.disable(),r.disable(),s.disable(),c.disable())})),e(document).onFirst("click",".cn-revoke-cookie",(function(){i.disable(),r.disable(),s.disable(),c.disable()}))),t.gdpr.cookie_law_info_integration_enabled&&(e(document).onFirst("click","#cookie_action_close_header",(function(){i.loadPixel(),r.loadPixel(),s.loadPixel(),c.loadPixel()})),e(document).onFirst("click","#cookie_action_close_header_reject",(function(){i.disable(),r.disable(),s.disable(),c.disable()})))},getLinkExtension:function(e){return(e=(e=(e=e.substring(0,-1===e.indexOf("#")?e.length:e.indexOf("#"))).substring(0,-1===e.indexOf("?")?e.length:e.indexOf("?"))).substring(e.lastIndexOf("/")+1,e.length)).length>0&&-1!==e.indexOf(".")?e=e.substring(e.indexOf(".")+1):""},getLinkFilename:function(e){return(e=(e=(e=e.substring(0,-1===e.indexOf("#")?e.length:e.indexOf("#"))).substring(0,-1===e.indexOf("?")?e.length:e.indexOf("?"))).substring(e.lastIndexOf("/")+1,e.length)).length>0&&-1!==e.indexOf(".")?e:""},isCheckoutPage:function(){return e("body").hasClass("woocommerce-checkout")||e("body").hasClass("edd-checkout")},addCheckoutFields:function(){var t="",n=v();e.each(_,(function(e,o){e>0&&(t+="|"),t+=o+":"+n[o]}));var o="",a=m();e.each(u,(function(e,t){e>0&&(o+="|"),o+=t+":"+a[t]}));var i="",r=m(!0);e.each(u,(function(e,t){e>0&&(i+="|"),i+=t+":"+r[t]}));var s="",c=v(!0);e.each(_,(function(e,t){e>0&&(s+="|"),s+=t+":"+c[t]}));var d=function(){var e=new Array,t=new Date;return e.push(["00-01","01-02","02-03","03-04","04-05","05-06","06-07","07-08","08-09","09-10","10-11","11-12","12-13","13-14","14-15","15-16","16-17","17-18","18-19","19-20","20-21","21-22","22-23","23-24"][t.getHours()]),e.push(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]),e.push(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]),e}(),l=Cookies.get("pys_landing_page"),p=Cookies.get("last_pys_landing_page"),f=Cookies.get("pysTrafficSource"),g=Cookies.get("last_pysTrafficSource"),y=null;y=e("body").hasClass("woocommerce-checkout")?e("form.woocommerce-checkout"):e("#edd_purchase_form");var b={pys_utm:t,pys_utm_id:o,pys_browser_time:d.join("|"),pys_landing:l,pys_source:f,pys_order_type:e(".wcf-optin-form").length>0?"wcf-optin":"normal",last_pys_landing:p,last_pys_source:g,last_pys_utm:s,last_pys_utm_id:i};Object.keys(b).forEach((function(e,t){y.append("<input type='hidden' name='"+e+"' value='"+b[e]+"' /> ")}))}}}(t),i=function(t){var n=["PageView","ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","Subscribe","CustomizeProduct","FindLocation","StartTrial","SubmitApplication","Schedule","Contact","Donate"],o=!1,r=t.gdpr.all_disabled_by_api||t.gdpr.facebook_disabled_by_api||t.gdpr.cookiebot_integration_enabled||t.gdpr.consent_magic_integration_enabled||t.gdpr.cookie_notice_integration_enabled||t.gdpr.cookie_law_info_integration_enabled;function s(e,o){if("function"==typeof window.pys_event_data_filter&&window.pys_disable_event_filter(e,"facebook"))return;var s=n.includes(e)?"track":"trackCustom",c=o.params,d={},l={};a.copyProperties(c,d);let _=function(e,n,o){let a=null;if(t.facebook.serverApiEnabled){if("woo_remove_from_cart"===e.e_id||"woo_add_to_cart_on_button_click"===e.e_id)(t.woo.hasOwnProperty("addToCartCatchMethod")&&"add_cart_js"===t.woo.addToCartCatchMethod||"woo_add_to_cart_on_button_click"!==e.e_id)&&(i.updateEventId(e.name),e.eventID=i.getEventId(e.name));else if(t.facebook.ajaxForServerEvent||r||e.delay>0||"static"!==e.type){e.eventID=pys_generate_token(36);var s={action:"pys_api_event",pixel:"facebook",event:n,data:o,ids:t.facebook.pixelIds,eventID:e.eventID,url:window.location.href,ajax_event:t.ajax_event};if(e.hasOwnProperty("woo_order")&&(s.woo_order=e.woo_order),e.hasOwnProperty("edd_order")&&(s.edd_order=e.edd_order),"PageView"==n){let n=parseInt(t.cookie_duration);var c=Date.now(),d=Math.floor(1e9+9e9*Math.random());timeoutDelay=0,e.delay>0&&(timeoutDelay=e.delay),Cookies.get("_fbp")||(timeoutDelay=100),getUrlParameter("fbclid")&&!Cookies.get("_fbc")&&(timeoutDelay=100),setTimeout((function(){Cookies.get("_fbp")||Cookies.set("_fbp","fb.1."+c+"."+d,{expires:n}),getUrlParameter("fbclid")&&!Cookies.get("_fbc")&&Cookies.set("_fbc","fb.1."+c+"."+getUrlParameter("fbclid"),{expires:n}),jQuery.ajax({type:"POST",url:t.ajaxUrl,data:s,headers:{"Cache-Control":"no-cache"},success:function(){}})}),timeoutDelay)}else jQuery.ajax({type:"POST",url:t.ajaxUrl,data:s,headers:{"Cache-Control":"no-cache"},success:function(){}})}a=e.eventID}return a}(o,e,d);"hCR"!==e&&(t.debug&&console.log("[Facebook] "+e,d,"eventID",_),null!=_&&(l.eventID=_),fbq(s,e,d,l))}return{tag:function(){return"facebook"},isEnabled:function(){return t.hasOwnProperty("facebook")},disable:function(){o=!1},loadPixel:function(){var e,n,i,r,s,c;!o&&this.isEnabled()&&a.consentGiven("facebook")&&(e=window,n=document,i="script",e.fbq||(r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.agent="dvpixelyoursite",r.queue=[],(s=n.createElement(i)).async=!0,s.src="https://connect.facebook.net/en_US/fbevents.js",(c=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,c)),t.facebook.pixelIds.forEach((function(e){if(t.facebook.removeMetadata&&fbq("set","autoConfig",!1,e),t.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data)if(0===t.facebook.advancedMatching.length)fbq("init",e);else{var n=Cookies.get("cs_enabled_advanced_matching"+test_prefix);jQuery("#cs_enabled_advanced_matching"+test_prefix).length>0?"yes"==n?fbq("init",e,t.facebook.advancedMatching):fbq("init",e):fbq("init",e,t.facebook.advancedMatching)}else 0===t.facebook.advancedMatching.length?fbq("init",e):fbq("init",e,t.facebook.advancedMatching)})),o=!0,a.fireStaticEvents("facebook"))},fireEvent:function(e,t){return!(!o||!this.isEnabled())&&(t.delay=t.delay||0,t.params=t.params||{},0===t.delay?s(e,t):setTimeout((function(e,t){s(e,t)}),1e3*t.delay,e,t),!0)},onCommentEvent:function(e){this.fireEvent(e.name,e)},onDownloadEvent:function(e){this.fireEvent(e.name,e)},onFormEvent:function(e){this.fireEvent(e.name,e)},onWooAddToCartOnButtonEvent:function(e){if(t.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var n=t.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()];window.pysWooProductData.hasOwnProperty(e)&&window.pysWooProductData[e].hasOwnProperty("facebook")&&(n=a.copyProperties(n,{}),a.copyProperties(window.pysWooProductData[e].facebook.params,n.params),this.fireEvent(n.name,n))}},onWooAddToCartOnSingleEvent:function(n,o,i,r){if(window.pysWooProductData=window.pysWooProductData||[],t.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var s=a.clone(t.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(i!==a.PRODUCT_VARIABLE||t.facebook.wooVariableAsSimple||(n=parseInt(r.find('input[name="variation_id"]').val())),window.pysWooProductData.hasOwnProperty(n)&&window.pysWooProductData[n].hasOwnProperty("facebook")){a.copyProperties(window.pysWooProductData[n].facebook.params,s.params);var c=0;if(i===a.PRODUCT_GROUPED&&(r.find(".woocommerce-grouped-product-list .qty").each((function(t){var o=e(this).attr("name").replaceAll("quantity[","").replaceAll("]",""),a=parseInt(e(this).val());isNaN(a)&&(a=0);var i=window.pysWooProductData[n].facebook.grouped[o];0==a&&s.params.content_ids.forEach((function(e,t,n){e==i.content_id&&n.splice(t,1)})),s.params.hasOwnProperty("contents")&&s.params.contents.forEach((function(e,t,n){e.id==i.content_id&&(a>0?e.quantity=a:n.splice(t,1))})),c+=i.price*a})),0==c))return;if(t.woo.addToCartOnButtonValueEnabled&&"global"!==t.woo.addToCartOnButtonValueOption)if(i===a.PRODUCT_GROUPED)s.params.value=c;else if(i===a.PRODUCT_BUNDLE){var d=e(".bundle_form .bundle_data").data("bundle_form_data"),l=getBundlePriceOnSingleProduct(d);s.params.value=(parseInt(d.base_price)+l)*o}else s.params.value=s.params.value*o;s.params.hasOwnProperty("contents")&&i!==a.PRODUCT_GROUPED&&(s.params.contents[0].quantity=o),this.fireEvent(s.name,s)}}},onWooRemoveFromCartEvent:function(e){this.fireEvent(e.name,e)},onEddAddToCartOnButtonEvent:function(e,n,o){if(t.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var i,r=a.clone(t.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(e))if(i=n?e+"_"+n:e,window.pysEddProductData[e].hasOwnProperty(i)&&window.pysEddProductData[e][i].hasOwnProperty("facebook")){a.copyProperties(window.pysEddProductData[e][i].facebook.params,r.params),t.edd.addToCartOnButtonValueEnabled&&"global"!==t.edd.addToCartOnButtonValueOption&&(r.params.value=r.params.value*o);var s=r.params.contents;s[0].quantity=o,r.params.contents=s,this.fireEvent(r.name,r)}}},onEddRemoveFromCartEvent:function(e){this.fireEvent(e.name,e)},onPageScroll:function(e){this.fireEvent(e.name,e)},onTime:function(e){this.fireEvent(e.name,e)},initEventIdCookies:function(e){var t={};t[e]=pys_generate_token(36),Cookies.set("pys_fb_event_id",JSON.stringify(t))},updateEventId:function(e){var t=Cookies.get("pys_fb_event_id");if(void 0===t)this.initEventIdCookies(e);else{var n=JSON.parse(t);n[e]=pys_generate_token(36),Cookies.set("pys_fb_event_id",JSON.stringify(n))}},getEventId:function(e){var t=Cookies.get("pys_fb_event_id");return void 0===t&&(this.initEventIdCookies(e),t=Cookies.get("pys_fb_event_id")),JSON.parse(t)[e]}}}(t),r=function(t){var n=!1;function o(e,n){if("function"!=typeof window.pys_event_data_filter||!window.pys_disable_event_filter(e,"ga")){var o=a.copyProperties(n,{});t.ga.trackingIds.forEach((function(n){var r=a.copyProperties(o,{}),s=function(e,t,n){if(delete n.page_title,delete n.event_url,delete n.landing_page,i(e))delete n.traffic_source,delete n.event_category,delete n.event_label,delete n.ecomm_prodid,delete n.ecomm_pagetype,delete n.ecomm_totalvalue,"search"===t&&(n.search=n.search_term,delete n.search_term,delete n.non_interaction,delete n.dynx_itemid,delete n.dynx_pagetype,delete n.dynx_totalvalue);else{switch(t){case"Comment":case"login":case"sign_up":case"EmailClick":case"TelClick":return{event_category:"Key Actions",event_action:t,non_interaction:n.non_interaction};case"Form":{let e={event_category:"Key Actions",event_action:t,non_interaction:n.non_interaction};var o=void 0!==n.form_class?"class: "+n.form_class:"";return""!=o&&(e.event_label=o),e}case"Download":return{event_category:"Key Actions",event_action:t,event_label:n.download_name,non_interaction:n.non_interaction};case"TimeOnPage":case"PageScroll":return{event_category:"Key Actions",event_action:t,event_label:document.title,non_interaction:n.non_interaction};case"search":return{event_category:"Key Actions",event_action:t,event_label:n.search_term,non_interaction:n.non_interaction}}delete n.post_type,delete n.post_id,delete n.plugin,delete n.user_role,delete n.cartlows,delete n.cartflows_flow,delete n.cartflows_step}return n}(n,e,r);!function(e,n,o){o.send_to=e,t.debug&&console.log("[Google Analytics #"+e+"] "+n,o),gtag("event",n,o)}(n,e,s)}))}}function i(e){return 0===e.indexOf("G")}return{tag:function(){return"ga"},isEnabled:function(){return t.hasOwnProperty("ga")},disable:function(){n=!1},loadPixel:function(){if(!n&&this.isEnabled()&&a.consentGiven("analytics")){a.loadGoogleTag(t.ga.trackingIds[0]);var e={link_attribution:t.ga.enhanceLinkAttr,anonymize_ip:t.ga.anonimizeIP};t.ga.crossDomainEnabled&&(e.linker={accept_incoming:t.ga.crossDomainAcceptIncoming,domains:t.ga.crossDomainDomains}),t.ga.trackingIds.forEach((function(n,o){if(e.debug_mode=t.ga.isDebugEnabled.includes("index_"+o),i(n)&&(t.ga.disableAdvertisingFeatures&&(e.allow_google_signals=!1),t.ga.disableAdvertisingPersonalization&&(e.allow_ad_personalization_signals=!1)),t.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot){var a=t.gdpr.cookiebot_analytics_consent_category;t.gdpr.analytics_prior_consent_enabled?!0===Cookiebot.consented&&Cookiebot.consent[a]&&gtag("config",n,e):Cookiebot.consent[a]&&gtag("config",n,e)}else gtag("config",n,e)})),n=!0,a.fireStaticEvents("ga")}},fireEvent:function(e,t){return!(!n||!this.isEnabled())&&(t.delay=t.delay||0,t.params=t.params||{},0===t.delay?o(e,t.params):setTimeout((function(e,t){o(e,t)}),1e3*t.delay,e,t.params),!0)},onCommentEvent:function(e){this.fireEvent(e.name,e)},onDownloadEvent:function(e){this.fireEvent(e.name,e)},onFormEvent:function(e){this.fireEvent(e.name,e)},onWooAddToCartOnButtonEvent:function(e){if(t.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var n=a.clone(t.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);window.pysWooProductData.hasOwnProperty(e)&&window.pysWooProductData[e].hasOwnProperty("ga")&&(a.copyProperties(window.pysWooProductData[e].ga.params,n.params),this.fireEvent(n.name,n))}},onWooAddToCartOnSingleEvent:function(n,o,i,r){if(window.pysWooProductData=window.pysWooProductData||[],t.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var s=a.clone(t.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(i!==a.PRODUCT_VARIABLE||t.ga.wooVariableAsSimple||(n=parseInt(r.find('input[name="variation_id"]').val())),window.pysWooProductData.hasOwnProperty(n)&&window.pysWooProductData[n].hasOwnProperty("ga")){if(a.copyProperties(window.pysWooProductData[n].ga.params,s.params),i===a.PRODUCT_GROUPED){var c=0;if(r.find(".woocommerce-grouped-product-list .qty").each((function(t){var o=e(this).attr("name").replaceAll("quantity[","").replaceAll("]",""),a=parseInt(e(this).val());isNaN(a)&&(a=0);var i=window.pysWooProductData[n].ga.grouped[o];s.params.items.forEach((function(e,t,n){e.id==i.content_id&&(a>0?e.quantity=a:n.splice(t,1))})),c+=i.price*a})),t.woo.addToCartOnButtonValueEnabled&&"global"!==t.woo.addToCartOnButtonValueOption&&s.params.hasOwnProperty("ecomm_totalvalue")&&(s.params.ecomm_totalvalue=c),0==c)return}else s.params.items[0].quantity=o;t.woo.addToCartOnButtonValueEnabled&&"global"!==t.woo.addToCartOnButtonValueOption&&i!==a.PRODUCT_GROUPED&&s.params.hasOwnProperty("ecomm_totalvalue")&&(s.params.ecomm_totalvalue=s.params.items[0].price*o),this.fireEvent(s.name,s)}}},onWooRemoveFromCartEvent:function(e){this.fireEvent(e.name,e)},onEddAddToCartOnButtonEvent:function(e,n,o){if(t.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var i,r=a.clone(t.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(e))i=n?e+"_"+n:e,window.pysEddProductData[e].hasOwnProperty(i)&&window.pysEddProductData[e][i].hasOwnProperty("ga")&&(a.copyProperties(window.pysEddProductData[e][i].ga.params,r.params),r.params.items[0].quantity=o,this.fireEvent(r.name,r))}},onEddRemoveFromCartEvent:function(e){this.fireEvent(e.name,e)},onPageScroll:function(e){this.fireEvent(e.name,e)},onTime:function(e){this.fireEvent(e.name,e)}}}(t);window.pys=window.pys||{},window.pys.Facebook=i,window.pys.Analytics=r,window.pys.Utils=a,e(document).ready((function(){if(e("#pys_late_event").length>0){var n=JSON.parse(e("#pys_late_event").attr("dir"));for(var o in n){var s={};s[n[o].e_id]=[n[o]],t.staticEvents.hasOwnProperty(o)?Object.assign(t.staticEvents[o],s):t.staticEvents[o]=s}}var c=a.setupPinterestObject(),d=a.setupBingObject();if(a.manageCookies(),a.setupGdprCallbacks(),t.dynamicEvents.hasOwnProperty("automatic_event_scroll")){var l=function(){var n=e(document).height()-e(window).height(),o=!1;if(t.dynamicEvents.hasOwnProperty("automatic_event_scroll"))for(var i=Object.keys(t.dynamicEvents.automatic_event_scroll),r=0;r<i.length;r++){var s=a.clone(t.dynamicEvents.automatic_event_scroll[i[r]]);Math.round(n*s.scroll_percent/100)<e(window).scrollTop()&&(a.copyProperties(a.getRequestParams(),s.params),getPixelBySlag(i[r]).onPageScroll(s),o=!0)}o&&e(document).off("scroll",l)};e(document).on("scroll",l)}if(t.dynamicEvents.hasOwnProperty("automatic_event_time_on_page")){var _=Object.keys(t.dynamicEvents.automatic_event_time_on_page),u=t.dynamicEvents.automatic_event_time_on_page[_[0]].time_on_page;setTimeout((function(){for(var e=0;e<_.length;e++){var n=a.clone(t.dynamicEvents.automatic_event_time_on_page[_[e]]);a.copyProperties(a.getRequestParams(),n.params),getPixelBySlag(_[e]).onTime(n)}}),1e3*u)}t.dynamicEvents.hasOwnProperty("automatic_event_download")&&e(document).onFirst("click",'a, button, input[type="button"], input[type="submit"]',(function(n){var o=e(this);if(t.dynamicEvents.hasOwnProperty("automatic_event_download")){var i=!1;if(o.is("a")){var r=o.attr("href");if("string"!=typeof r)return;r=r.trim();var s=a.getLinkExtension(r);if(s.length>0&&t.dynamicEvents.hasOwnProperty("automatic_event_download"))for(var c=Object.keys(t.dynamicEvents.automatic_event_download),d=0;d<c.length;d++){var l=a.clone(t.dynamicEvents.automatic_event_download[c[d]]);l.extensions.includes(s)&&("tiktok"==c[d]?getPixelBySlag(c[d]).fireEvent(tikEvent.name,l):(t.enable_remove_download_url_param&&(r=r.split("?")[0]),l.params.download_url=r,l.params.download_type=s,l.params.download_name=a.getLinkFilename(r),getPixelBySlag(c[d]).onDownloadEvent(l)),i=!0)}}if(i)return}})),e.each(t.triggerEventTypes,(function(t,n){e.each(n,(function(e,n){switch(t){case"url_click":break;case"css_click":a.setupCSSClickEvents(e,n);break;case"css_mouseover":a.setupMouseOverClickEvents(e,n);break;case"scroll_pos":a.setupScrollPosEvents(e,n);break;case"comment":a.setupCommentEvents(e,n)}}))})),t.woo.enabled&&(t.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click")&&t.woo.hasOwnProperty("addToCartCatchMethod")&&"add_cart_js"===t.woo.addToCartCatchMethod&&(e(".add_to_cart_button:not(.product_type_variable,.product_type_bundle,.single_add_to_cart_button)").on("click",(function(t){var n=e(this).data("product_id");void 0!==n&&(i.onWooAddToCartOnButtonEvent(n),r.onWooAddToCartOnButtonEvent(n),c.onWooAddToCartOnButtonEvent(n),d.onWooAddToCartOnButtonEvent(n))})),e("body").onFirst("click","button.single_add_to_cart_button,.single_add_to_cart_button",(function(t){var n=e(this);if(!n.hasClass("disabled")){var o=n.closest("form"),s=a.PRODUCT_SIMPLE;if(0!==o.length){var l,_;if(o.hasClass("variations_form")?s=a.PRODUCT_VARIABLE:o.hasClass("bundle_form")?s=a.PRODUCT_BUNDLE:o.hasClass("grouped_form")&&(s=a.PRODUCT_GROUPED),s===a.PRODUCT_GROUPED)_=1,l=parseInt(o.find('*[name="add-to-cart"]').val());else if(s===a.PRODUCT_VARIABLE){l=parseInt(o.find('*[name="add-to-cart"]').val()),(u=o.find('input[name="quantity"]')).length<=0&&(u=o.find('select[name="quantity"]')),_=parseInt(u.val())}else{var u;l=parseInt(o.find('*[name="add-to-cart"]').val()),(u=o.find('input[name="quantity"]')).length<=0&&(u=o.find('select[name="quantity"]')),_=parseInt(u.val())}i.onWooAddToCartOnSingleEvent(l,_,s,o),r.onWooAddToCartOnSingleEvent(l,_,s,o),c.onWooAddToCartOnSingleEvent(l,_,s,!1,o),d.onWooAddToCartOnSingleEvent(l,_,s,!1,o)}}}))),t.dynamicEvents.hasOwnProperty("woo_remove_from_cart")&&e("body").on("click",t.woo.removeFromCartSelector,(function(n){var o=e(n.currentTarget).attr("href"),i=new RegExp("[\\?&]remove_item=([^&#]*)").exec(o);if(null!==i){var r=i[1];if(t.dynamicEvents.woo_remove_from_cart.hasOwnProperty(r)){var s=t.dynamicEvents.woo_remove_from_cart[r];a.fireEventForAllPixel("onWooRemoveFromCartEvent",s)}}}))),t.edd.enabled&&(t.dynamicEvents.hasOwnProperty("edd_add_to_cart_on_button_click")&&e("form.edd_download_purchase_form .edd-add-to-cart").on("click",(function(t){var n,o,a=e(this),s=a.closest("form"),l=a.data("variablePrice"),_=a.data("priceMode"),u=[],p=[];"yes"===l&&"multi"===_?(o=s.find('input[name="download_id"]').val(),e.each(s.find('input[name="edd_options[price_id][]"]:checked'),(function(t,n){u.push(o+"_"+e(n).val())})),e.each(u,(function(e,t){var o=t.split("_",2);void 0!==(n=s.find('input[name="edd_download_quantity_'+o[1]+'"]').val())?p.push(n):p.push(1)}))):"yes"===l&&"single"===_?(o=s.find('input[name="download_id"]').val(),u.push(o+"_"+s.find('input[name="edd_options[price_id][]"]:checked').val()),void 0!==(n=s.find('input[name="edd_download_quantity"]').val())?p.push(n):p.push(1)):(u.push(a.data("downloadId")),void 0!==(n=s.find('input[name="edd_download_quantity"]').val())?p.push(n):p.push(1)),e.each(u,(function(e,t){var n,o=parseInt(p[e]),a=t.toString().split("_",2);2===a.length&&(t=a[0],n=a[1]),i.onEddAddToCartOnButtonEvent(t,n,o),r.onEddAddToCartOnButtonEvent(t,n,o),c.onEddAddToCartOnButtonEvent(t,n,o),d.onEddAddToCartOnButtonEvent(t,n,o)}))})),t.dynamicEvents.hasOwnProperty("edd_remove_from_cart")&&e("form#edd_checkout_cart_form .edd_cart_remove_item_btn").on("click",(function(n){var o=e(this).attr("href");if(o){var i=o.substring(o.indexOf("=")+1).charAt(0);if(t.dynamicEvents.edd_remove_from_cart.hasOwnProperty(i)){var r=t.dynamicEvents.edd_remove_from_cart[i];a.fireEventForAllPixel("onEddRemoveFromCartEvent",r)}}}))),t.dynamicEvents.hasOwnProperty("automatic_event_comment")&&e("form.comment-form").on("submit",(function(){if(t.dynamicEvents.hasOwnProperty("automatic_event_comment"))for(var e=Object.keys(t.dynamicEvents.automatic_event_comment),n=0;n<e.length;n++){var o=a.clone(t.dynamicEvents.automatic_event_comment[e[n]]);a.copyProperties(a.getRequestParams(),o.params),getPixelBySlag(e[n]).onCommentEvent(o)}})),t.dynamicEvents.hasOwnProperty("automatic_event_form")&&(e(document).onFirst("submit","form",(function(n){var o=e(this);if(!o.hasClass("comment-form")&&!o.hasClass("search-form")&&"adminbarsearch"!==o.attr("id")&&!(o.hasClass("woocommerce-product-search")||o.hasClass("cart")||o.hasClass("woocommerce-cart-form")||o.hasClass("woocommerce-shipping-calculator")||o.hasClass("checkout")||o.hasClass("checkout_coupon")||o.hasClass("edd_form")||o.hasClass("edd_download_purchase_form"))){var i={form_id:o.attr("id"),form_class:o.attr("class"),text:o.find('[type="submit"]').is("input")?o.find('[type="submit"]').val():o.find('[type="submit"]').text()};if(t.dynamicEvents.hasOwnProperty("automatic_event_form"))for(var r=Object.keys(t.dynamicEvents.automatic_event_form),s=0;s<r.length;s++){var c=a.clone(t.dynamicEvents.automatic_event_form[r[s]]);"tiktok"===r[s]?getPixelBySlag(r[s]).fireEvent(c.name,c):(a.copyProperties(i,c.params),a.copyProperties(a.getRequestParams(),c.params),getPixelBySlag(r[s]).onFormEvent(c))}}})),e(document).on("forminator:form:submit:success",(function(n){var o={form_id:e(n.target).find('input[name="form_id"]').val(),text:e(n.target).find(".forminator-button-submit").text()};if(t.dynamicEvents.hasOwnProperty("automatic_event_form"))for(var i=Object.keys(t.dynamicEvents.automatic_event_form),r=0;r<i.length;r++){var s=a.clone(t.dynamicEvents.automatic_event_form[i[r]]);a.copyProperties(o,s.params),a.copyProperties(a.getRequestParams(),s.params),getPixelBySlag(i[r]).onFormEvent(s)}})),e(document).onFirst("nfFormSubmitResponse",(function(e,n){var o={form_id:n.response.data.form_id,text:n.response.data.settings.title};if(t.dynamicEvents.hasOwnProperty("automatic_event_form"))for(var i=Object.keys(t.dynamicEvents.automatic_event_form),r=0;r<i.length;r++){var s=t.dynamicEvents.automatic_event_form[i[r]];a.copyProperties(o,s.params),a.copyProperties(a.getRequestParams(),s.params),getPixelBySlag(i[r]).onFormEvent(s)}}))),a.loadPixels(),a.isCheckoutPage()&&a.addCheckoutFields()}))}(jQuery,pysOptions);var getUrlParameter=function(e){var t,n,o=window.location.search.substring(1).split("&");for(n=0;n<o.length;n++)if((t=o[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1]);return!1};